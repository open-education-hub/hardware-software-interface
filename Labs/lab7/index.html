<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Labs/lab7">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Lab 7 - Structures, Vectors and Strings | Hardware Software Interface</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://localhost//hardware-software-interface/Labs/lab7"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 7 - Structures, Vectors and Strings | Hardware Software Interface"><meta data-rh="true" name="description" content="Task: Fibonacci"><meta data-rh="true" property="og:description" content="Task: Fibonacci"><link data-rh="true" rel="canonical" href="http://localhost//hardware-software-interface/Labs/lab7"><link data-rh="true" rel="alternate" href="http://localhost//hardware-software-interface/Labs/lab7" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost//hardware-software-interface/Labs/lab7" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/hardware-software-interface/assets/css/styles.a69a9d41.css">
<link rel="preload" href="/hardware-software-interface/assets/js/runtime~main.dfa37bb3.js" as="script">
<link rel="preload" href="/hardware-software-interface/assets/js/main.5804b916.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/hardware-software-interface/"><div class="navbar__logo"><img src="/hardware-software-interface/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/hardware-software-interface/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hardware Software Interface</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hardware-software-interface/Labs">Labs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hardware-software-interface/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/hardware-software-interface/Labs/">Labs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Labs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab1">Lab 1 - Number Representation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab2">Lab 2 - Memory Operations. Introduction to GDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab4">Lab 4 - Toolchain. GOTO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab5">Lab 5 - Introduction to Assembly Language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab6">Lab 6 - Registers and Memory Addressing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/hardware-software-interface/Labs/lab7">Lab 7 - Structures, Vectors and Strings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab8">Lab 8 - The Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab9">Lab 9 - Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab10">Lab 10 - The C - Assembly Interaction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab11">Lab 11 - Buffer Management. Buffer Overflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab12">Lab 12 - Linking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hardware-software-interface/Labs/lab13">Lab 13 - CTF</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/hardware-software-interface/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/hardware-software-interface/Labs/"><span itemprop="name">Labs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 7 - Structures, Vectors and Strings</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Lab 7 - Structures, Vectors and Strings</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-fibonacci">Task: Fibonacci<a class="hash-link" href="#task-fibonacci" title="Direct link to heading">​</a></h2><p>You will solve this exercise starting from the <code>fibonacci.asm</code> file located in the <code>drills/tasks/fibonacci</code> directory.</p><p>Calculate the Nth Fibonacci number, where N is given through the <code>eax</code> register.</p><blockquote><p><strong>NOTE</strong>: The fibonacci series goes as follows : <code>0, 1, 1, 2, 3, ...</code> where each element <code>f[i] = f[i-2] + f[i-1]</code>, except for the first two elements.</p><p><strong>TIP</strong>: For example, if the value stored in <code>eax</code> is equal to <code>5</code>, a correct solution will display <code>3</code> and for <code>7</code>, it will display <code>8</code>.</p></blockquote><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/hardware-software-interface/Labs/lab5#x86-family">this</a> reading material.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-modifying-a-structure">Task: Modifying a Structure<a class="hash-link" href="#task-modifying-a-structure" title="Direct link to heading">​</a></h2><p>Write code within the <code>main</code> function to modify the fields of the <code>sample_student</code> structure so that:</p><ul><li><p>the birth year is <code>1993</code></p></li><li><p>the age is <code>22</code></p></li><li><p>the group is <code>323CA</code></p></li></ul><blockquote><p><strong>WARNING</strong>: Do not modify what is displayed, modify the structure code.
Do not touch the display code, that code must remain the same.
You need to add at the beginning of the <code>main</code> function, in the place marked with <code>TODO</code>, the code to modify the structure.
<strong>WARNING</strong>: You need to modify the content of the structure in the code, meaning you need to write to the memory area corresponding to the field in the structure.
Do not modify the structure in the <code>.data</code> section, you need to use code to modify the structure.
<strong>TIP</strong>: For modifying the group, you will need to change the third byte/character of the <code>group</code> field (i.e., the byte/character with index 2).</p></blockquote><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/hardware-software-interface/Labs/lab7#structured-data---structures">this</a> reading material.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-getter-setter">Task: Getter-Setter<a class="hash-link" href="#task-getter-setter" title="Direct link to heading">​</a></h2><p>Write in the <code>getter_setter_printf.asm</code> file the instructions needed to display the values of the <code>int_x</code>, <code>char_y</code>, and <code>string_s</code> fields from the <code>sample_obj</code> object.</p><p>The program&#x27;s output after a correct solution should be:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int_x: 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char_y: a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string_s: My string is better than yours</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, overwrite the values of the <code>int_x</code>, <code>char_y</code>, <code>string_s</code> fields in the <code>sample_obj</code> object with the values from the <code>new_int</code>, <code>new_char</code>, and <code>new_string</code> variables.</p><p>Validate the results using the display sequence written earlier. After a correct solution, the program&#x27;s output is:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int_x: 2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">char_y: b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string_s: Are you sure?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Follow the comments marked with <strong>TODO</strong>.</p><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/hardware-software-interface/Labs/lab7#structured-data---structures">this</a> reading material.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-finding-a-substring-in-a-string">Task: Finding a Substring in a String<a class="hash-link" href="#task-finding-a-substring-in-a-string" title="Direct link to heading">​</a></h2><p>Find all occurrences of the <code>substring</code> substring in the <code>source_text</code> string in the <code>find_substring.asm</code> file.</p><p>Display the results as follows:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Substring found at index: &lt;N&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>IMPORTANT</strong>: You cannot use the <code>strstr</code> library function (or similar) for this subtask.</p><p><strong>TIP</strong>: For display, you can use both the <code>PRINTF32</code> macro and the <code>printf</code> function, as in previous exercises. The steps for display using <code>printf</code> are as follows:</p><blockquote><ul><li>push the value you want to display onto the stack (the position where the substring was found)</li><li>push the address of the <code>print_format</code> string onto the stack</li><li>call the <code>printf</code> function</li><li>clean up the parameters added earlier from the stack by adding the value 8 to the <code>esp</code> register (each parameter is 4 bytes).</li></ul></blockquote><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/hardware-software-interface/Labs/lab7#structured-data---arrays">this</a> reading material.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-mul-arrays">Task: Mul-arrays<a class="hash-link" href="#task-mul-arrays" title="Direct link to heading">​</a></h2><p>You will solve the exercises starting from the <code>mul_arrays.asm</code> file located in the <code>drills/tasks/mul-arrays</code> directory.
Write the Assembly instructions through which, for each pair of one-byte elements with identical indexes from <code>array1</code> and <code>array2</code>, their product is saved in <code>array3</code>.
Then print <code>array3</code>.</p><p>The program&#x27;s output after a correct solution should be:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">The array that results from the product of the corresponding elements in array1 and array2 is:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">405 12801 1330 59397 2024 6151 280 8449 289 48385</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Follow the comments marked with <strong>TODO</strong>.</p><p><strong>IMPORTANT</strong>: The product should be computed between two one-byte numbers.
Therefore, the result is stored on two bytes.</p><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/hardware-software-interface/Labs/lab7#structured-data---arrays">this</a> reading material.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="task-courses">Task: Courses<a class="hash-link" href="#task-courses" title="Direct link to heading">​</a></h2><p>You will solve the exercises starting from the <code>courses.asm</code> file located in the <code>drills/tasks/courses</code> directory.
Fill in the instructions to display the course in which each student is enrolled.
We will assume that each student is enrolled in at most one course.</p><p>The program&#x27;s output after a correct solution should be:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">The students list is:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Vlad ---- Assembly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Andrew ---- Linear Algebra</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Kim ---- Linear Algebra</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">George ---- Physics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Kate ---- Student unassigned :(</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Follow the comments marked with <strong>TODO</strong>.</p><p>If you&#x27;re having difficulties solving this exercise, go through <a href="/hardware-software-interface/Labs/lab7#structured-data---arrays">this</a> reading material.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structured-data---structures">Structured Data - Structures<a class="hash-link" href="#structured-data---structures" title="Direct link to heading">​</a></h2><p>We will introduce the concept of structures in assembly language and work with specialized operations on strings.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="structures">Structures<a class="hash-link" href="#structures" title="Direct link to heading">​</a></h3><p>Structures are used to group data of different types that can be used together to create a composite type.</p><p>Next, we will go through the steps necessary to use a structure: declaration, instantiation, and accessing the fields of a structure.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-a-structure">Declaring a Structure<a class="hash-link" href="#declaring-a-structure" title="Direct link to heading">​</a></h4><p>In NASM, a structure is declared using the construction <code>struc &lt;structure name&gt;</code>, followed by a list of fields and terminated with <code>endstruc</code>.</p><p>Each field of the structure is defined by the following: a label (used to access members), the type specifier, and the number of elements.</p><p>Example:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struc mystruct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a:    resw 1    ; a will refer to a single word-sized element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b:    resd 1    ; b will refer to a single double-word-sized element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    c:    resb 1    ; c will refer to a single byte-sized element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d:    resd 1    ; d will refer to a single double-word-sized element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e:    resb 6    ; e will refer to 6 byte-sized elements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endstruc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>NOTE</strong>: Here pseudo-instructions from the NASM <code>res</code> family are used to define the data type and the number of elements for each of the structure fields.
For more details about the <code>res</code> syntax, please follow this link: <a href="https://www.nasm.us/doc/nasmdoc3.html#section-3.2.2" target="_blank" rel="noopener noreferrer">NASM Documentation</a></p></blockquote><p>Each label defining a field represents the offset of the field within the structure.
For example, <code>b</code> will have the value 2, because there are 2 bytes from the beginning of the structure to the <code>b</code> field (the first 2 bytes are occupied by the <code>a</code> word).</p><blockquote><p><strong>WARNING</strong>: If you want to use the same field name in two different structures, you must prefix the label name with a dot (<code>.</code>) like this:</p></blockquote><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struc mystruct1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .a:    resw 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .b:    resd 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endstruc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struc mystruct2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .a:    resd 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .b:    resw 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endstruc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Use the construction <code>mystruct2.b</code> to find the offset value of &#x27;b&#x27; within the structure <code>mystruct2</code>.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="instantiating-a-structure">Instantiating a Structure<a class="hash-link" href="#instantiating-a-structure" title="Direct link to heading">​</a></h4><p>One way to have a structure in memory is to declare it statically in the <code>.data</code> section.
The syntax uses NASM macros <code>istruc</code> and <code>iend</code> along with the <code>at</code> keyword.</p><p>In the following example, static instantiation of the structure declared above is presented, where <code>struct_var</code> is the memory address where the data begins.</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct_var:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    istruc mystruct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at a, dw        -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at b, dd        0x12345678</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at c, db        &#x27; &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at d, dd        23</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at e, db        &#x27;Gary&#x27;, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    iend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you define the structure fields using a dot (<code>.</code>), the instantiation of the structure is done as follows:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct_var:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    istruc mystruct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at mystruct.a, dw        -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at mystruct.b, dd        0x12345678</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at mystruct.c, db        &#x27; &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at mystruct.d, dd        23</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        at mystruct.e, db        &#x27;Gary&#x27;, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    iend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong>WARNING</strong>: To avoid initializing members incorrectly, you must ensure that for each field, the data type in instantiation matches the type in declaration.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-values-from-a-structure">Accessing Values from a Structure<a class="hash-link" href="#accessing-values-from-a-structure" title="Direct link to heading">​</a></h4><p>To access and/or modify a specific member of the instantiated structure, we need to know its address.
This address can be obtained by calculating the sum of the starting address of the structure and the offset within the structure of the desired member.</p><p>The following code sequence demonstrates setting a value in the <code>b</code> field of the structure and subsequently displaying the value of this field.</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mov eax, 12345</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mov dword [mystruct + b], eax ; the address of field b is the base address of the statically instantiated structure + the offset of the field (given by the label &#x27;b&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mov ebx, dword [mystruct + b] ; putting the value from field b into the ebx register for display</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PRINTF32 `%d\n\x0`, ebx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="guide-students">Guide: Students<a class="hash-link" href="#guide-students" title="Direct link to heading">​</a></h2><p>To follow this guide, you&#x27;ll need to use the <code>students.asm</code> file located in the <code>guides/students/support</code> directory.</p><p>This program iterates through the array of structures representing <code>students</code> and prints the name of each student.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structured-data---arrays">Structured Data - Arrays<a class="hash-link" href="#structured-data---arrays" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="arrays">Arrays<a class="hash-link" href="#arrays" title="Direct link to heading">​</a></h3><p>We can consider an array as a sequence of elements of the same type, placed contiguously in memory.
You might have noticed something similar in previous labs when declaring static character strings in the <code>.data</code> section.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-an-array">Declaring an Array<a class="hash-link" href="#declaring-an-array" title="Direct link to heading">​</a></h4><p>In general, declared static data can be initialized or uninitialized.
Differentiation is made both by providing an initial value for initialized data and by the NASM syntax used.</p><p>For example, to declare an array of 100 words initialized with the value 42, we will use the construction:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">section .data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_vect:    times 100    dw 42</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>On the other hand, if we want to declare an uninitialized array of 20 double-word elements, we use instructions from the &quot;res&quot; family as follows:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">section .bss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my_vect:    resd 20</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="arrays-of-structures">Arrays of Structures<a class="hash-link" href="#arrays-of-structures" title="Direct link to heading">​</a></h3><p>Often, we&#x27;ll need arrays that contain elements larger than a double word.
To achieve this, we&#x27;ll combine the two concepts presented earlier and use arrays of structures.
Of course, string operation instructions will not work, so we&#x27;ll have to resort to the classic method of accessing elements: explicit memory addressing.</p><p>For the example in this section, we create a structure representing a point in a 2D space.</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struc point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .x:    resd 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .y:    resd 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endstruc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-an-array-of-structures">Declaring an Array of Structures<a class="hash-link" href="#declaring-an-array-of-structures" title="Direct link to heading">​</a></h4><p>Since NASM doesn&#x27;t support any mechanism to explicitly declare an array of structures, we&#x27;ll need to effectively declare a data section to accommodate our array.</p><p>Suppose we want a zero-initialized array of 100 elements of the structure type <code>point</code> (which is 8 bytes in size), we need to allocate 100 * 8 (= 800) bytes.</p><p>We obtain:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">section .data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    point_array:    times 800    db 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In addition, NASM provides an alternative to manually calculating the size of a structure by automatically generating the macro <code>&lt;structure name&gt;_size</code>.
Thus, the previous example can become:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">section .data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    point_array:    times point_size * 100    db 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If we want to declare an uninitialized array of structures, we can use:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">section .bss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    point_array:    resb point_size * 100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="traversing-an-array-of-structures">Traversing an Array of Structures<a class="hash-link" href="#traversing-an-array-of-structures" title="Direct link to heading">​</a></h4><p>As mentioned before, to access a field of an element in an array, we need to use normal addressing (particularly &quot;based-indexed with scale&quot; addressing).
The formula to find the address of the element is <code>base_of_array + i * size_of_struct</code>.</p><p>Assuming we have the start address of the array in the <code>ebx</code> register and the index of the element we want to access in the <code>eax</code> register, the following example demonstrates printing the value of the y field of this element.</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mov ebx, point_array                            ; Move the start address of the array into ebx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mov eax, 13                                     ; Assume we want the 14th element</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mov edx, [ebx + point_size * eax + point.y]     ; Calculate the address of the desired field between []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                ; and then transfer the value from that address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                ; into the edx register</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PRINTF32 `%u\n\x0`, edx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We traverse the array, having the current index in the eax register at each iteration.
We can print the values from both fields of each element in the array with the following program:</p><div class="language-Assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Assembly codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struc   point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .x: resd 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .y: resd 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endstruc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">section .data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    point_array: times point_size * 100 db 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">section .text</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    global CMAIN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMAIN:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    push ebp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mov ebp, esp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xor edx, edx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    xor eax, eax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">label:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mov edx, [point_array + point_size * eax + point.x] ; access x member</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PRINTF32 `%u\n\x0`, edx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mov edx, [point_array + point_size * eax + point.y] ; access y member</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PRINTF32 `%u\n\x0`, edx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inc eax ; increment input index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cmp eax, 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    jl label</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    leave</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ret</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="guide-max">Guide: Max<a class="hash-link" href="#guide-max" title="Direct link to heading">​</a></h2><p>To follow this guide, you&#x27;ll need to use the <code>max.asm</code> file located in the <code>guides/max/support</code> directory.</p><p>The program finds the maximum value in an array of 16-bit integers (<code>array</code>).
It iterates through the array, updating the maximum value (<code>dx</code>) when it finds a larger value.
Finally, it prints the maximum value using the <code>printf()</code> function.</p><blockquote><p><strong>Note</strong>: For a detailed description of the instruction, check out the following page: <a href="https://www.tutorialspoint.com/assembly_programming/assembly_arrays.htm" target="_blank" rel="noopener noreferrer">Assembly Arrays Tutorial</a></p></blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/hardware-software-interface/Labs/lab6"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 6 - Registers and Memory Addressing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hardware-software-interface/Labs/lab8"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 8 - The Stack</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#task-fibonacci" class="table-of-contents__link toc-highlight">Task: Fibonacci</a></li><li><a href="#task-modifying-a-structure" class="table-of-contents__link toc-highlight">Task: Modifying a Structure</a></li><li><a href="#task-getter-setter" class="table-of-contents__link toc-highlight">Task: Getter-Setter</a></li><li><a href="#task-finding-a-substring-in-a-string" class="table-of-contents__link toc-highlight">Task: Finding a Substring in a String</a></li><li><a href="#task-mul-arrays" class="table-of-contents__link toc-highlight">Task: Mul-arrays</a></li><li><a href="#task-courses" class="table-of-contents__link toc-highlight">Task: Courses</a></li><li><a href="#structured-data---structures" class="table-of-contents__link toc-highlight">Structured Data - Structures</a><ul><li><a href="#structures" class="table-of-contents__link toc-highlight">Structures</a></li></ul></li><li><a href="#guide-students" class="table-of-contents__link toc-highlight">Guide: Students</a></li><li><a href="#structured-data---arrays" class="table-of-contents__link toc-highlight">Structured Data - Arrays</a><ul><li><a href="#arrays" class="table-of-contents__link toc-highlight">Arrays</a></li><li><a href="#arrays-of-structures" class="table-of-contents__link toc-highlight">Arrays of Structures</a></li></ul></li><li><a href="#guide-max" class="table-of-contents__link toc-highlight">Guide: Max</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://curs.upb.ro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Main site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ocw.cs.pub.ro/courses/pclp2" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCW<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/10c1a" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 OpenEdu Team</div></div></div></footer></div>
<script src="/hardware-software-interface/assets/js/runtime~main.dfa37bb3.js"></script>
<script src="/hardware-software-interface/assets/js/main.5804b916.js"></script>
</body>
</html>